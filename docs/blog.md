# 软件工程第三次作业——结队编程

## 前期准备

### 需求分析

#### Must Have

1.  算术题生成器：

    - 设：

      - 自然数 $n$ : $0, 1, 2, \cdots$ ；
      - 运算符 $op$ : $+, -, \times, \div$ ；
      - 括号 : $(, )$ ；
      - 等号 : $=$ ；
      - 分隔符 : 空格（用于四则运算符和等号前后）；
      - 算术表达式 $e$ , $e_1$ , $e_2$ ；

    - 定义：

      1.  算术表达式的文法：

          \$ e = n \| e_1 op e_2 \| ( e )\$

      2.  四则运算题目: $e\ =$

    首先实现对算术表达式 $e\ =\ n_1\ |\ e_1\ op\ e_2$ 的生成与计算支持，
    其中 $n_1$ 为自然数。

2.  命令行界面 (CLI, Command-Line Interface) ：

    - 命令行参数：

      - `-n` ：生成题目的个数；
      - `-r` ：生成题目中数值（自然数、真分数和真分数分母）的范围；
      - `-e` ：题目文件；
      - `-a` ：答案文件；

3.  文件读写：

    - 读取：读取命令行参数给入的题目文件和答案文件；
    - 写入：
      - 生成的题目存入执行程序的当前目录下的 `Exercises.txt` 文件；

      - 计算出所有题目的答案，并存入执行程序的当前目录下的 `Answers.txt`
        文件；

      - 根据给定输入题目和答案，统计分数输出到文件 `Grade.txt`
        ，格式如下：

        ``` txt
        Correct: 5 (1, 3, 5, 7, 9)
        Wrong: 5 (2, 4, 6, 8, 10)
        ```

        - `:` 后面的数字 `5` 表示对/错的题目的数量；
        - 括号（ `(1, 3, 5, 7, 9)` ）内的是对/错题目的编号。
          为简单起见，假设输入的题目都是按照顺序编号的符合规范的题目。

#### Should Have

1.  算术表达式的生成与计算加入括号（子表达式）和真分数的支持。、

2.  算术表达式生成无重复，即任何两道题目不能通过有限次交换 $+$ 和
    $\times$ 左右的算术表达式变换为同一道题目。

3.  算术表达式的计算过程中不能出现负数。

4.  算术表达式的不能违反数学法则，如除数不能为 $0$ ， 分数的分母不能为
    $0$ ，等等。

#### Could Have

1.  算术表达式的生成与计算关于假分数的支持。
2.  通过哈希方法实现缓存计算结果，加速对程序生成的题目的答案的计算。

#### Won’t Have

除了上述的需求，我们不会实现其他的功能。
